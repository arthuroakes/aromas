{% extends "Base/base.html" %}

{% block conteudo %}
  <div class="header">
    <h3>Acompanhe seu Pedido</h3>
  </div>
{% if not pedido %} 
<hr>
 <h4>Não há pedidos.</h4> <br>
<h4>Deseja fazer um pedido? <a href="/produtos" class="text-decoration-none" style="color: #EDE0D4;">Clique aqui</a> para ver nossas variedades.</h4> 
{% else %} 
  <div class="container">
    <div class="row">
      <div class="col-md-8">
        <br>
        <h3>Olá, {{cliente.nome}}</h3> 
        <div class="delivery-info">
          <h2>Pedido {{pedido.idPedido}} - Previsão de Entrega: 12:00hrs - 13:00hrs</h2>
          <br>
          <div class="position-relative m-4">
            <div class="progress" role="progressbar" aria-label="Progress" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="height: 1px;">
              <div class="progress-bar bg-success" style="width: {% if pedido.status == 'aceito' %}50{% elif pedido.status == 'entrega' %}100{% else %}0{% endif %}%;"></div>
            </div>
            <button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height: 2rem;" title="Aguardando Aceitação">1<br></button>
            <button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height: 2rem;" title="Aceito">2<br></button>
            <button type="button" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height: 2rem;" title="Seu Pedido Saiu Para Entrega">3<br></button>
          </div>          
          <div class="delivery-info">
            <br>
            <h2>Entregar em:</h2>
              <p><b>Bairro:</b> {{endereco.bairro}} <br> 
                <b>Rua:</b> {{endereco.rua}} <br> 
                <b>Número:</b> {{endereco.numero}} <br> 
                <b>Complemento:</b> {% if complemento %} {{endereco.complemento}} {% else %} ----------------- {% endif %}
              </p> 
          </div>
          <div class="delivery-info">
            <h2>Código de identificação: {{codigo}}</h2>
          </div>
          <div class="button-container"> 
            <a href="/pedido/pedidoentregue" class="btn" style="background-color: #4D2B1E; color: #EDE0D4;">Confirmar entrega</a>
            <a href="/pedido/motivocancelar" class="btn" style="background-color: #4D2B1E; color: #EDE0D4;">Cancelar entrega</a>
            <a href="/chat" class="btn" style="background-color: #4D2B1E; color: #EDE0D4;">Chat</a>
          </div>
        </div>
      </div>
    </div>
{% endif %}
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->
{% endblock %}